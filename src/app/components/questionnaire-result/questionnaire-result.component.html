<!-- src/app/components/questionnaire-result/questionnaire-result.component.html -->
<div class="result-container">
  <div class="result-card" *ngIf="result">
    <!-- Header -->
    <div class="result-header" [ngClass]="getSeverityClass()">
      <div class="icon-circle">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getSeverityIcon()" />
        </svg>
      </div>
      <h2>Resultado de su Evaluación</h2>
    </div>

    <!-- Result Content -->
    <div class="result-content">
      <div class="category-badge" [ngClass]="getSeverityClass()">
        {{ result.category }}
      </div>

      <div class="score-display">
        <div class="score-circle">
          <svg viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="45" class="score-bg"></circle>
            <circle
              cx="50"
              cy="50"
              r="45"
              class="score-progress"
              [ngClass]="getSeverityClass()"
              [style.stroke-dashoffset]="283 - (283 * result.score / 30)">
            </circle>
          </svg>
          <div class="score-text">
            <span class="score-number">{{ result.score }}</span>
            <span class="score-max">/30</span>
          </div>
        </div>
      </div>

      <div class="recommendation-box">
        <h3>Recomendación</h3>
        <p>{{ result.recommendation }}</p>
      </div>

      <div class="disclaimer-box">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <div>
          <strong>Importante:</strong>
          <p>{{ disclaimer }}</p>
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="result-actions">
      <button class="btn btn-primary" (click)="onScheduleAppointment()">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        Agendar Cita Ahora
      </button>
      <button class="btn btn-secondary" (click)="onClose()">
        Ver la Página
      </button>
    </div>
  </div>
</div>
